// Generated by CoffeeScript 1.7.1
var arrow_animation_duration, arrow_animation_easing, arrows_in, arrows_out, current_step, goto_step_0, goto_step_1, goto_step_2, goto_step_3, page_init;

current_step = 0;

arrow_animation_duration = 400;

arrow_animation_easing = 'easeOutBounce';

arrows_out = function() {
  $('.arrow-left').stop(true, true).animate({
    left: '-=40px'
  }, arrow_animation_duration, arrow_animation_easing, function() {
    return true;
  });
  return $('.arrow-right').stop(true, true).animate({
    left: '+=40px'
  }, arrow_animation_duration, arrow_animation_easing, function() {
    return true;
  });
};

arrows_in = function() {
  $('.arrow-left').stop(true, true).animate({
    left: '+=40px'
  }, arrow_animation_duration, arrow_animation_easing, function() {
    return true;
  });
  return $('.arrow-right').stop(true, true).animate({
    left: '-=40px'
  }, arrow_animation_duration, arrow_animation_easing, function() {
    return true;
  });
};

goto_step_0 = function() {
  return $('.text-container').html(_.template($('#texts-kit').html()));
};

goto_step_1 = function() {
  if (current_step === 0) {
    $('.grey-container').fadeIn(400, function() {
      return true;
    });
    return current_step = 1;
  }
};

setTimeout(function() {
  return goto_step_1();
}, 10000);

$('.picture-container').mousemove(function(e) {
  var coordinate_x, coordinate_y, parent_offset;
  if (current_step === 0) {
    parent_offset = $(this).parent().offset();
    coordinate_x = e.pageX - parent_offset.left;
    coordinate_y = e.pageY - parent_offset.top;
    if (((coordinate_x >= 80) && (coordinate_x <= 160)) || ((coordinate_x >= 570) && (coordinate_x <= 650))) {
      return goto_step_1();
    }
  }
});

$('.grey-text').mouseover(arrows_out);

$('.grey-text').mouseout(arrows_in);

$('.grey-text').click(function(e) {
  return goto_step_2();
});

goto_step_2 = function() {
  var greyoverlay_fadeout_duration, kit_to_wide_duration;
  if (current_step === 1) {
    kit_to_wide_duration = 1000;
    greyoverlay_fadeout_duration = 500;
    return $('.grey-container').fadeOut(greyoverlay_fadeout_duration, function() {
      return $('.picture-container').animate({
        height: '507px',
        width: '760px',
        top: '0'
      }, kit_to_wide_duration, function() {
        return $('.obiectiv-kit').fadeOut(400, function() {
          current_step = 2;
          $('.obiectiv-wide').fadeIn();
          $('.text-container').html(_.template($('#texts-wide').html()));
          $('.girl-head').show();
          $('.girl-head').mouseover(function() {
            $('.circle-girl').stop(true).fadeIn();
            return $('.circle-girl-text').stop(true).fadeIn();
          });
          $('.circle-girl-container').mouseenter(function() {
            return $('.circle-girl').stop(true, true).animate({
              boxShadow: '0px 0px 15px #fff'
            }, 100);
          });
          $('.circle-girl-container').mouseleave(function() {
            return $('.circle-girl').stop(true, true).animate({
              boxShadow: '0px 0px 0px #fff'
            }, 100);
          });
          return $('.circle-girl-container').click(function() {
            return goto_step_3();
          });
        });
      });
    });
  }
};

goto_step_3 = function() {
  var zoom_duration;
  if (current_step === 2) {
    current_step = 3;
    $('.circle-girl-container').fadeOut();
    zoom_duration = 1000;
    $('.picture-container').css({
      'background-size': '100%',
      'background-position-x': '0px',
      'background-position-y': '0px'
    });
    $('.picture-container').animate({
      'background-size': '300%',
      'background-position-x': '-160px',
      'background-position-y': '-910px'
    }, zoom_duration);
    $('.picture-container').fadeOut(zoom_duration);
    return $('.picture-portrait').fadeIn(zoom_duration);
  }
};

page_init = function() {
  console.log('game');
  return goto_step_0();
};
